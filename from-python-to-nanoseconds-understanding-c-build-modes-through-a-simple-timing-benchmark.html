<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html" rel="canonical" />
  <!-- Feed -->
  <link href="https://azad2171.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
    title="Between the Brackets Full Atom Feed" />
  <link href="https://azad2171.github.io/feeds/programming.atom.xml" type="application/atom+xml"
    rel="alternate" title="Between the Brackets Categories Atom Feed" />

  <link rel="stylesheet" type="text/css" href="https://azad2171.github.io/theme/css/style.css">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    var siteUrl = 'https://azad2171.github.io';
  </script>

  <script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>







    <meta name="description" content="If you’re a developer transitioning to C++, one of the first things you'll notice is how much emphasis the language places on the build...">

    <meta name="author" content="Lovekesh Azad">

    <meta name="tags" content="C++">
    <meta name="tags" content="HFT">
    <meta name="tags" content="Low Latency Programming">




<!-- Open Graph -->
<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="Between the Brackets"/>
<meta prefix="og: http://ogp.me/ns#" property="og:title" content="From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark"/>
<meta prefix="og: http://ogp.me/ns#" property="og:description" content="If you’re a developer transitioning to C++, one of the first things you'll notice is how much emphasis the language places on the build..."/>
<meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US"/>
<meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html"/>
<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article"/>
<meta prefix="og: http://ogp.me/ns#" property="article:published_time" content="2025-07-17 02:00:00+05:30"/>
<meta prefix="og: http://ogp.me/ns#" property="article:modified_time" content=""/>
<meta prefix="og: http://ogp.me/ns#" property="article:author" content="https://azad2171.github.io/author/lovekesh-azad.html">
<meta prefix="og: http://ogp.me/ns#" property="article:section" content="Programming"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="C++"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="HFT"/>
<meta prefix="og: http://ogp.me/ns#" property="article:tag" content="Low Latency Programming"/>
<meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://azad2171.github.io/theme/images/home-bg.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark",
  "headline": "From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark",
  "datePublished": "2025-07-17 02:00:00+05:30",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Lovekesh Azad",
    "url": "https://azad2171.github.io/author/lovekesh-azad.html"
  },
  "image": "https://azad2171.github.io/theme/images/post-bg.jpg",
  "url": "https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html",
  "description": "If you’re a developer transitioning to C++, one of the first things you'll notice is how much emphasis the language places on the build..."
}
</script>
</head>









<body class="category-template">

<div class="nav-header">
  <nav class="nav-wrapper" aria-label="Main">
<ul>


</ul>
<ul class="nav-meta">
  <li class="nav-search" style="display: none;">
    <a title="Search">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span>Search</span>
    </a>
  </li>
</ul>  </nav>

  <div class="nav-wrapper-control">
    <div class="inner">
      <a class="nav-menu" role="button"><i class="icon icon-menu" aria-hidden="true"></i>Menu</a>
      <a class="nav-search" title="Search" role="button" style="display: none;"><i class="icon icon-search" aria-hidden="true"></i></a>
    </div>
  </div>
</div>
<div class="nav-close" role="button" aria-label="Close"></div>
  <section id="wrapper" class="page-wrapper">
    <!-- Progressbar -->
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="post-header ">
      <div class="inner">
        <span class="post-info">
          <span class="post-type">Article</span>
          <span class="post-count">Programming</span>
        </span>
        <h1 class="post-title">From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark</h1>
        <div class="post-meta">
          <div class="post-meta-avatars">


            <figure class="post-meta-avatar avatar">
              <a class="author-avatar" href="https://azad2171.github.io/author/lovekesh-azad.html">
                <img class="author-profile-image" src="" alt="Lovekesh Azad" />
              </a>
            </figure>
          </div>

          <h4 class="post-meta-author">
            Lovekesh Azad
          </h4>
          <time datetime="Thu 17 July 2025">Thu 17 July 2025</time>
        </div>
      </div>
    </header>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
          <section class="post-content">
            <!-- # From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark -->

<p>If you’re a developer transitioning to C++, one of the first things you'll notice is how much emphasis the language places on the build process -and how much performance can hinge on compiler settings.</p>
<p>This post is a crash course in one of C++’s most powerful (and misunderstood) features: the difference between <strong>Debug</strong> and <strong>Release</strong> builds -and how your choice can mean the difference between seconds and nanoseconds.</p>
<p>We’ll walk through:</p>
<ul>
<li>The C++ build process (compiler and linker basics)  </li>
<li>The difference between Debug and Release modes</li>
<li>A simple, practical program to measure nanosecond-level performance  </li>
<li>Why this matters in high-performance domains like finance, gaming, or systems programming  </li>
</ul>
<hr>
<h2>What You Need (Tools &amp; Setup)</h2>
<p>If you're on Windows, the easiest way to get started is with <strong>Visual Studio 2022 Community Edition</strong>. It gives you:</p>
<ul>
<li>The MSVC compiler  </li>
<li>A built-in linker  </li>
<li>A powerful debugger  </li>
<li>An IDE that handles your project structure for you  </li>
</ul>
<blockquote>
<p>During installation, be sure to select the <strong>"Desktop development with C++"</strong> workload.</p>
</blockquote>
<hr>
<h2>Understanding the Build Process</h2>
<p>Unlike Python, where you run <code>.py</code> scripts directly, C++ is a compiled language. That means there’s an extra step between writing your code and running your program.</p>
<h3>Step-by-Step:</h3>
<ol>
<li>You write a <code>.cpp</code> source file.  </li>
<li>The compiler translates it into an object file (<code>.obj</code>) -valid machine code, but incomplete.  </li>
<li>The linker takes one or more object files and connects all the parts together into a final <code>.exe</code> file.  </li>
<li>If your code calls external functions (from libraries or other files), the linker’s job is to “resolve” those references.</li>
</ol>
<p>This multi-stage build process might seem like overhead, but it enables serious performance tuning, modularity, and reusability. You can link against compiled libraries (even without their source), and you have full control over optimization levels.</p>
<hr>
<h2>Debug vs. Release: What’s the Difference?</h2>
<p>Here’s the big one: when you build your project, you're usually choosing between <strong>Debug</strong> and <strong>Release</strong> configurations.</p>
<h3>Debug Build</h3>
<ul>
<li>Compiles with <strong>no optimizations</strong>  </li>
<li>Includes extra debug symbols to help step through your code  </li>
<li>Makes your code easier to inspect, but slower  </li>
</ul>
<h3>Release Build</h3>
<ul>
<li>Compiles with <strong>aggressive optimizations</strong>  </li>
<li>Removes unused code, inlines functions, and reorders instructions for speed  </li>
<li>No debug info (unless explicitly configured)  </li>
<li>Often drastically faster than Debug  </li>
</ul>
<hr>
<h2>A Simple Benchmark: Measure a Billion Iterations</h2>
<p>Let’s see the impact of compiler optimizations in action. This C++ program performs a simple floating-point addition in a loop <strong>one billion times</strong>, and measures the time in <strong>nanoseconds</strong>.</p>
<h3>Code</h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">iterations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000000000</span><span class="p">;</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>

<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">sink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">iterations</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sink</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">;</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">nanoseconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">nanoseconds</span><span class="o">&gt;</span><span class="p">(</span><span class="n">duration</span><span class="p">).</span><span class="n">count</span><span class="p">();</span>

<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Loop took &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">nanoseconds</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; nanoseconds.&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Final result (to prevent optimization): &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sink</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<hr>
<h2>How to Run It in Visual Studio</h2>
<ol>
<li>Open Visual Studio  </li>
<li>Go to <strong>File → New → Project → Console App</strong>  </li>
<li>Name your project (e.g., <code>LatencyTest1</code>) and click <strong>Create</strong>  </li>
<li>Replace the default code with the snippet above  </li>
<li>At the top, ensure the build configuration is set to <strong>"Debug"</strong>  </li>
<li>Press <code>F5</code> (or click the green "Run" button)  </li>
<li>Take note of the time reported  </li>
<li>Now switch the configuration to <strong>"Release"</strong> and press <code>Ctrl+F5</code> (to run without the debugger). Note the new time  </li>
</ol>
<hr>
<h2>What Just Happened?</h2>
<p>You likely saw a dramatic difference in execution time -possibly <strong>orders of magnitude</strong>.</p>
<p>That’s the power of compiler optimizations:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Debug</th>
<th>Release</th>
</tr>
</thead>
<tbody>
<tr>
<td>Optimization</td>
<td>Off</td>
<td>On (aggressive)</td>
</tr>
<tr>
<td>Symbol info</td>
<td>On</td>
<td>Off</td>
</tr>
<tr>
<td>Performance</td>
<td>Lower</td>
<td>Much higher</td>
</tr>
<tr>
<td>Use case</td>
<td>Development &amp; debugging</td>
<td>Production &amp; benchmarking</td>
</tr>
</tbody>
</table>
<p>In Release mode, the compiler might:</p>
<ul>
<li>Inline the loop  </li>
<li>Vectorize operations (SIMD)  </li>
<li>Unroll the loop  </li>
<li>Use processor-specific instructions  </li>
</ul>
<blockquote>
<p>Without <code>volatile</code>, it might even remove the loop entirely -assuming it has no side effects.<br>
That's why we use <code>volatile</code> -to signal that the variable might change in ways the compiler can’t predict.</p>
</blockquote>
<hr>
<h2>Why This Matters (Especially in Finance or HFT)</h2>
<p>In latency-sensitive applications like <strong>high-frequency trading</strong>, <strong>video games</strong>, or <strong>systems programming</strong>, you can’t afford to overlook what the compiler is doing.</p>
<ul>
<li><strong>Nanoseconds add up</strong>  </li>
<li>Optimizations change program behavior and timing  </li>
<li>The build configuration becomes part of your <strong>performance model</strong></li>
</ul>
<p>As a developer transitioning from high-level languages, understanding these low-level tools gives you a huge edge -and helps you write code that doesn’t just work, but <strong>works fast</strong>.</p>
<hr>
<h2>Key Takeaways</h2>
<ul>
<li>C++ code is not just "written" -it’s compiled and optimized  </li>
<li>Debug builds are great for development, terrible for benchmarks  </li>
<li>Release builds let the compiler unleash its full power  </li>
<li>Even a simple loop can reveal deep truths about how C++ behaves under the hood  </li>
</ul>
<p>If this post helped clarify some of the mystery around C++'s build modes or inspired you to benchmark your own code, let me know -or feel free to share your own Debug vs. Release results.</p>
<hr>
<blockquote>
<p>Want to see more posts like this?<br>
I’ll be exploring C++ from the perspective of a Python dev with a quant background - diving deep into performance, low-latency systems, and real-world HFT applications.  </p>
<p>But even if you're not into finance, understanding how the compiler works is a <strong>C++ superpower</strong>.</p>
</blockquote>
<p><strong>Happy coding - and may your nanoseconds be few.</strong></p>
          </section>


          <section class="post-footer" >
            <div class="post-share">
              <span class="post-info-label">Share</span>
              <a title="Twitter" aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark&amp;url=https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="icon icon-twitter" aria-hidden="true"></i><span class="hidden">Twitter</span>
              </a>
              <a title="Facebook" aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="icon icon-facebook" aria-hidden="true"></i><span class="hidden">Facebook</span>
              </a>
              <a title="LinkedIn" aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html&amp;title=From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;">
                <i class="icon icon-linkedin" aria-hidden="true"></i><span class="hidden">LinkedIn</span>
              </a>
              <a title="Email" aria-label="Email" class="email" href="mailto:?subject=From Python to Nanoseconds: Understanding C++ Build Modes Through a Simple Timing Benchmark&amp;body=https://azad2171.github.io/from-python-to-nanoseconds-understanding-c-build-modes-through-a-simple-timing-benchmark.html">
                <i class="icon icon-mail" aria-hidden="true"></i><span class="hidden">Email</span>
              </a>
              <div class="clear"></div>
            </div>

            <aside class="post-tags">
<a href="https://azad2171.github.io/tag/c.html">C++</a><a href="https://azad2171.github.io/tag/hft.html">HFT</a><a href="https://azad2171.github.io/tag/low-latency-programming.html">Low Latency Programming</a>            </aside>

            <div class="clear"></div>


          </section>


          <aside class="post-nav">
            <div class="clear"></div>
          </aside>

        </div>
      </article>
    </main>
    <div class="nav-footer">
      <nav class="nav-wrapper" aria-label="Footer">
        <span class="nav-copy">Between the Brackets &copy; 2023
        </span>
        <span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> &bull; Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> &bull;
          <a class="menu-item js-theme" href="#" data-system="System theme" data-dark="Dark theme" data-light="Light theme">
            <span class="theme-icon"></span><span class="theme-text">System theme</span>
          </a>
        </span>
      </nav>
    </div>

  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
  <script type="text/javascript" src="https://azad2171.github.io/theme/js/jquery.fitvids.js"></script>
  <script type="text/javascript" src="https://azad2171.github.io/theme/js/script.js"></script>

    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Y574CSESH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-7Y574CSESH', { 'anonymize_ip': true });
    </script>

  <!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->

<!-- Add MathJax and FontAwesome for Asciidoc -->\
<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    var mdSelector=".highlight pre";
    var rstSelector=".highlight pre";
    // For ":source-highlighter: highlight.js`" in asciidoc
    var adocSelector="pre.highlight > code[data-lang]"
    var selector=mdSelector;
    // Format code blocks and add line numbers
    function codestyling() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
        // No lines for plain text blocks
        if (!$(this).hasClass('language-text')) {
          var code = $(this);
          // Calculate amount of lines
          var lines = code.html().split(/\n(?!$)/g).length;
          var numbers = [];
          if (lines > 1) {
            lines++;
          }
          for (i = 1; i < lines; i++) {
            numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
          }
          code.parent().append('<div class="lines">' + numbers + '</div>');
        }
      });
    }

    // Format code blocks only
    function codestylingWithoutLineNumbers() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
      });
    }

    codestylingWithoutLineNumbers();
    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });
</script>
</body>

</html>